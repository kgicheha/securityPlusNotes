Tools of the Trade: Linux & SQL

Hardware 
The physical components of a computer.

Operating System (OS)
The interface between computer hardware and the user
Responsible for making the computer run as efficiently as possible and easy to use. 
They help humans and computers communicate with each other	
The OS does this by taking care of all the messy details related to controlling, the computer's hardware, so you don't have to.
Computers communicate in a language called binary, which consists of 0s and 1s. 
The OS provides an interface to bridge this communication gap between the user and the computer, allowing you to interact with the computer in complex ways.

For example, as a security analyst, you may be responsible for configuring and maintaining the security of a system by managing access.
You may also be responsible for managing and configuring firewalls, setting security policies, enabling virus protection, and performing auditing, accounting, and logging to detect unusual behavior

The OS handles resource and memory management to ensure the limited capacity of the computer system is used where it's needed most. 
For example, if a computer is running slowly, an analyst might discover it's allocating resources to malware.

Types of Operating Systems:
Windows
macOS
Linux
ChromeOS
Android
 iOS

Legacy operating system
An operating system that is outdated but still being used. 
Some organizations continue using legacy operating systems because the software they rely on is incompatible with newer operating systems.
Legacy operating systems can be vulnerable to security issues because they’re no longer supported or updated. This means that legacy operating systems might be vulnerable to new threats. 


Basic Input/Output System (BIOS) 
A microchip that contains loading instructions for the computer and is prevalent in older systems
BIOS
Booting the computer means that a special microchip called a BIOS is activated
On many computers built after 2007, the chip was replaced by the UEFI. 
Often, the BIOS is not scanned by the antivirus software, so it can be vulnerable to malware infection.

Unified Extensible Firmware Interface (UEFI)
A microchip that contains loading instructions for the computer and replaces BIOS on more modern systems.

Both BIOS and UEFI contain booting instructions that are responsible for loading a special program called the bootloader

Bootloader 
Responsible for starting the operating system.

An application
A program that performs a specific task
The application sends your request to the operating system. 
From there, the operating system interprets this request and directs it to the appropriate component of the computer's hardware.

Completing a task


Virtual machine (VM)
A virtual version of a physical computer. Virtual machines are one example of virtualization. 
Virtual machines can be managed with a software called a hypervisor.

Hypervisors 
Help users manage multiple virtual machines and connect the virtual and physical hardware. 
Hypervisors also help with allocating the shared resources of the physical host machine to one or more virtual machines.

Virtualization 
Process of using software to create virtual representations of various physical machines. 
Virtual systems don’t use dedicated physical hardware. 
Instead, they use software-defined versions of the physical hardware. 
This means that a single virtual machine has a virtual CPU, virtual storage, and other virtual hardware. 
Virtual systems are just code.


The benefits of virtual machines
Provides an isolated environment, or a sandbox, on the physical host machine.
Although using virtual machines is useful when investigating potentially infected machines or running malware in a constrained environment, there are still some risks. 
For example, a malicious program can escape virtualization and access the host machine. This is why you should never completely trust virtualized systems.

an efficient and convenient way to perform security tasks. 
You can open multiple virtual machines at once and switch easily between them. This allows you to streamline security tasks, such as testing and exploring various applications.
Random Access Memory (RAM) 
A hardware component used for short-term memory.

A user interface
A program that allows a user to control the functions of the operating system

Graphical User Interface (GUI) 
A user interface that uses icons on the screen to manage different tasks on the computer. 
Most operating systems can be used with a graphical user interface.
Most GUIs include these components: a start menu with program groups, a taskbar for launching programs, and a desktop with icons and shortcuts. 
Limits you to one task at a time

Command-line interface (CLI) 
A text-based user interface that uses commands to interact with the computer. 
These commands communicate with the operating system and execute tasks like opening programs.
There are no icons or graphics on the screen
A CLI is more flexible and more powerful than a GUI
Gives you more flexibility. 
A CLI can accept multiple requests at one time, it’s more powerful when you need to perform multiple tasks efficiently. 
For security analysts, using the Linux CLI is helpful because it records a history file of all the commands and actions in the CLI. If you were using a GUI, your actions are not necessarily saved in a history file.

Linux
An open-source operating system

How security analysts use Linux:
To examine different types of logs to identify what is going on in a system
To use digital forensic tools to investigate what happened following an event
To verify access and authorization in an identity and access management system

Components of Linux
User 
The user is the person interacting with the computer.
Linux is a multi-user system. This means that more than one user can use the system's resources at the same time.

Applications
 a program that performs a specific task

Shell
How you will communicate with the system. 
The shell is a command line interpreter. It processes commands and outputs the results. This might sound familiar. 
	 Think of the shell as a CLI.

Filesystem Hierarchy Standard, or FHS 
It's the component of the Linux OS that organizes data
A directory is a file that organizes where other files are stored. Directories are sometimes called “folders,” and they can contain files or other directories.
Kernel 
A component of the Linux OS that manages processes and memory. 
The most important component of the Linux OS
The kernel communicates with the hardware to execute the commands sent by the shell. 
The kernel uses drivers to enable applications to execute tasks. 
The Linux kernel helps ensure that the system allocates resources more efficiently and makes the system work faster.

Hardware
The physical components of a computer

Distributions
The different versions of Linux
Includes the Linux kernel, utilities, a package management system, and an installer.

The type of components that may differ from one Linux distribution to another:
Their parent distributions
The user interfaces
Their pre-installed programs

Kali Linux
This open-source distro was made specifically with penetration testing and digital forensics in mind.
It's important to note that KALI LINUX™ should be used on a virtual machine. This prevents damage to your system in the event its tools are used improperly. 
An additional benefit is that using a virtual machine gives you the ability to revert to a previous state.
a useful distribution for security professionals who are involved in digital forensic work. 
Derived from Debian distribution. 

Key Kali Linux security tools:
 tcpdump 
A command-line packet analyzer.
	It's used to capture network traffic.

Wireshark
It has a graphical user interface that can be used to analyze live and captured network traffic.

Autopsy 
A forensic tool used to analyze hard drives and smartphones.
Penetration test 
A simulated attack that helps identify vulnerabilities in systems, networks, websites, applications, and processes.

Penetration Testing Tools in Kali Linux
Metasploit
Can be used to look for and exploit vulnerabilities on machines. 

Burp Suite
A tool that helps to test for weaknesses in web applications

John the Ripper 
A tool used to guess passwords

Digital Forensics
The process of collecting and analyzing data to determine what has happened after an attack
For example, you might take an investigative look at data related to network activity.

Ubuntu
An open-source, user-friendly distribution that is widely used in security and other industries.
It has both a command-line interface (CLI) and a graphical user interface (GUI). 
Ubuntu is also Debian-derived 

Parrot
An open-source distribution that is commonly used for security. Similar to KALI LINUX ™, Parrot comes with pre-installed tools related to penetration testing and digital forensics. Like both KALI LINUX ™ and Ubuntu, it is based on Debian.
Parrot is also considered to be a user-friendly Linux distribution. This is because it has a GUI that many find easy to navigate

Red Hat Enterprise Linux 
A subscription-based distribution of Linux built for enterprise use. 

CentOS 
An open-source distribution that is closely related to Red Hat. It uses source code published by Red Hat to provide a similar platform. 

Package 
A piece of software that can be combined with other packages to form an application.
Contains the files necessary for an application to be installed

Package manager 
A tool that helps users install, manage, and remove packages or applications
It’s important to use the most recent version of a package when possible. The most recent version has the most up-to-date bug fixes and security patches. These help keep your system more secure.

Advanced Package Tool (APT) 
APT is a tool used with Debian-derived distributions. It is run from the command-line interface to manage, search, and install packages.

Yellowdog Updater Modified (YUM)
YUM is a tool used with Red Hat-derived distributions.
It is run from the command-line interface to manage, search, and install packages. YUM works with .rpm files.




Shell
The command-line interpreter
That means it helps you communicate with the operating system through the command line
The shell communicates with the kernel to execute commands.

Different Type of Shells
Bourne-Again Shell (bash)
C Shell (csh)
Korn Shell (ksh)
Enhanced C shell (tcsh)
Z Shell (zsh)

Bash Shell
The default shell in most Linux distributions. It’s considered a user-friendly shell. You can use bash for basic Linux commands as well as larger projects.

Standard Input 
Consists of information received by the OS via the command line.

String data 
Data consisting of an ordered sequence of characters.

Standard Output 
The information returned by the OS through the shell.

Standard Error 
Contains error messages returned by the OS through the shell.

Security Analyst role:
Work with server logs
Naviagate, manage, and analyze files remotely without a GPU
Verify and configure users and group access
Give authorization and set file permissions

Linux command
An instruction telling the computer to do something

Argument (Linux)
Specific information needed by a command 

Filesystem Hierarchy Standard (FHS)
The component of the Linux OS that organizes data. 
This file system is a very important part of Linux because everything we do in Linux is considered a file somewhere in the system's directory
The FHS is a hierarchical system, and just like with a tree, everything grows and branches out from the root. The root directory is the highest-level directory in Linux. It's designated by a single slash. Subdirectories branch off from the root directory.

The difference between an absolute file path and a relative file path
Absolute path → starts from the root 
Relative path → starts from the current directory

Linux Commands
echo
Allows users to display texts or strings 

pwd
Print the working directory onto the screen

ls
Displays the names of the files and directories in the current working directory

cd
Navigates between directories
When you want to change directories

cat
Displays the content of a file

head
Displays just the beginning of a file, by default 10 lines. 

tail
Displays just the end of a file, by default 10 lines. 

whoami
Return the username of the current user

less
Returns the content of a file one page at a time. 

grep
Searches a specified file and returns all lines in the file containing a specified string
grep [string] [file name]

| (piping)
Sends the standard output of one command as standard input to another command for further processing. 
ls /home/analyst/reports | grep users
	This will return all the files in the reports directory that contain the string ”users”

find
Searches for directories and files that meets specified criteria
find [directory] -iname [“*logs”]


iname and iname
Used with find command to find file or directory names that contain a specific string
-name is case sensitive
-iname is not case sensitive

mtime
Used with the  find command to find files or directories last modified with a certain time frame
find /home/analyst/projects -mtime -3
This returns all files and directories in the projects directory that have been modified within the past three days. 

mkdir
Creates new directory
mkdir [directory name]

rmdir
Removes, or deletes a directory
rmdir [directory name]

touch 
Creates a new file
touch [file name]

rm
Removes or delete a file
rm [file name]

mv
Moves a file or directory to a new location
mv [file name] [the directory where you want to move the file to]

cp
Copies a file or directory into a new location
cp [file name] [the directory where you want to move the file to]

nano
Used to edit files
nano [file name you want to edit]

ls -l
Displays permissions to files and directories

ls -a
Displays hidden files 

ls -la
Displays permissions to files and directories, including hidden files

chmod
Changes permissions on files and directories
chmod g+w, o-r [file name] → group add write, other remove read on the specified file

sudo
Temporality grands elevated permissions to specific users
Stands for super-user-do

useradd
Adds a user to the systems

userdel
Deletes a user from the system

usermod
Modifies existing user accounts
sudo usermod -g executive fgargia → would change garcia’s primary group to the executive group

chown
Changes ownership of a file or directory
sudo chown fgarcia access.txt → changes user owner to garcia
sudo chown :security access.txt → changes group owner to security 

man
Displays information on other commands and how they work
Comes from the word manual

whatis
Displays a description of a command on a single line

apropos
Searches the manual page descriptions for a specified string



Permissions
The type of access granted for a file or directory

Authorization
The concept of granting access to specific resources in a system

Permissions in Linux
Read
Write
Execute
Types of owners
User → owner of the file → u
Group → consists of several users → g
Other → all other users in a system → o

Linux permission strings
drwxrwxrwx → full permissions 
d represents directory
r represents read
w represents write
x represents execute
The first rwx shows that the users’ owner permission
The second rwx shows the group-owner permission
The third rwx shows the other owner-type permission
If one of these permissions was missing, there would be a hyphen instead of the letter. 

Options
Modify the behavior of the command

Root user (or superuser)
A user with elevated privileges to modify the system

Problems with logging in as root
Security Risks → Most powerful account
Irreversible mistakes
Accountability → no way to track who ran a command



SQL
Database
An organized collection of information or data
Can be accessed by multiple people simultaneously and can store massive amounts of data. 
Can also perform complex tasks while accessing data.

As a security analyst, you'll often need to access databases containing useful information. 
For example, these could be databases containing information on login attempts, software and updates, or machines and their owners.

Spreadsheets 
Often designed for a single user or a small team to store less data.


Relational database 
A structured database containing tables that are related to each other.
Each table contains fields of information.

Primary key 
Refers to a column where every row has a unique entry.
The primary key must not have any duplicate values or any null or empty values. 
The primary key allows us to uniquely identify every row in our table. 
For the table of employees, employee_id is a primary key.


Foreign key 
A column in a table that is a primary key in another table. 
Foreign keys, unlike primary keys, can have empty values and duplicates. 
The foreign key allows us to connect two tables together. 

SQL
Stands for Structured Query Language. 
SQL is a programming language used to create, interact with, and request information from a database.
SQL can be used for data analytics. 
As a security analyst, you can use SQL's filtering to find data to support security-related decisions and analyze when things may go wrong. 
For instance, you can identify what machines haven't received the latest patch. This is important because patches are updates that help secure against attacks. 
As another example, you can use SQL to determine the best time to update a machine based on when it's least used.

Query
A request for data from a database table or a combination of tables

Log 
A record of events that occur within an organization's systems. 
As a security analyst, you might be tasked with reviewing logs for various reasons. 
For example, some logs might contain details on machines used in a company, and as an analyst, you would need to find those machines that weren't configured properly. Other logs might describe the visitors to your website or web app and the tasks they perform.

Basic SQL Queries

SELECT
Indicates which columns to return
SELECT * → returns all columns from the specified table

FROM 
Indicates which tables to query

ORDER BY
Sequences the records by a query based on a specified column or columns
Can be either ascending or descending order
By default, the sequence will be in ascending order


Syntax
The rules that determine what is correctly structured in a computing language


Example of SQL Query
	SELECT employee_id, device_id
	FROM employees;
